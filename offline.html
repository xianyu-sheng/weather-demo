<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>天气预报 - 离线模式</title>
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#4a90e2">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .offline-container {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            text-align: center;
            margin-top: 50px;
        }
        
        .icon {
            width: 100px;
            height: 100px;
            margin: 0 auto 20px;
        }
        
        h1 {
            color: #4a90e2;
            margin-bottom: 15px;
        }
        
        p {
            margin-bottom: 20px;
        }
        
        .btn {
            display: inline-block;
            background-color: #4a90e2;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            text-decoration: none;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        
        .btn:hover {
            background-color: #3a80d2;
        }
    </style>
</head>
<body>
    <div class="offline-container">
        <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
            <circle cx="256" cy="256" r="256" fill="#4a90e2"/>
            <path d="M380 260c0-33.1-26.9-60-60-60-6.3 0-12.4 1-18.1 2.8-11.5-23.6-35.8-39.8-63.9-39.8-39.3 0-71 31.7-71 71 0 1.1 0 2.2 0.1 3.3-25.6 3.5-45.1 25.5-45.1 52.1 0 29 23.5 52.5 52.5 52.5h185c33.1 0 60-26.9 60-60z" fill="#ffffff"/>
            <path d="M150 350l50 -50M150 300l50 50" stroke="#ffffff" stroke-width="8" stroke-linecap="round"/>
        </svg>
        <h1>您当前处于离线状态</h1>
        <p>无法连接到天气服务。请检查您的网络连接并重试。</p>
        <p>如果您之前已经查询过天气，可能会显示缓存的结果。</p>
        <a href="/" class="btn">重试</a>
    </div>
    
    <script>
        // 检测网络状态变化
        window.addEventListener('online', () => {
            window.location.href = '/';
        });
        
        document.querySelector('.btn').addEventListener('click', (e) => {
            e.preventDefault();
            if (navigator.onLine) {
                window.location.href = '/';
            } else {
                alert('您仍处于离线状态，请检查网络连接后重试。');
            }
        });
    </script>
</body>
</html>